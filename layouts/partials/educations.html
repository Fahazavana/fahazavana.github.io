{{ $lang := .Site.Language.Lang }}
{{ $edu := index .Site.Data.content.educations $lang }}

{{ if and $edu (or (not (isset $edu "enable")) $edu.enable) }}
<section id="educations" class="w-full py-12 md:py-16 bg-surface transition-colors duration-300 container mx-auto">
  <div class="px-4">
    <div class="text-center mb-12">
      <h2 class="section-title text-3xl font-bold text-foreground">
        {{ $edu.title | default "Educations" }}
      </h2>
    </div>

    <div class="timeline relative mx-auto max-w-5xl">
      <!-- Center line for md+ -->
      <div class="timeline-line"></div>

      <!-- Mobile left line -->
      <ul class=" space-y-10 md:space-y-12 border-l border-border md:border-0">
        {{ range $i, $e := $edu.educations_list }}
        {{ $isEven := eq (mod $i 2) 0 }}
        <li class="relative md:flex md:items-start md:justify-between reveal">
          <!-- Dot -->
          <span class="timeline-dot absolute md:left-1/2 md:-translate-x-1/2 -left-[7px] top-2 w-3 h-3 rounded-full bg-primary ring-4 ring-elevated border border-border"></span>

          <!-- Column -->
          <div class="w-full md:w-1/2 md:relative {{ if $isEven }}md:pr-12 md:mr-auto md:text-right{{ else }}md:pl-12 md:ml-auto{{ end }}">
            <!-- Connector stub for md+ -->
            {{ if $isEven }}
            <span class="timeline-connector hidden md:block right-0"></span>
            {{ else }}
            <span class="timeline-connector hidden md:block left-0"></span>
            {{ end }}
            {{ with $e.duration }}
            <div class="inline-block md:block text-xs md:text-sm mb-2 px-2 py-1 rounded-full bg-surface border border-border text-muted">
              {{ . | markdownify }}
            </div>
            {{ end }}
            <div class="timeline-card mt-2 p-6 bg-elevated rounded-lg border border-border shadow-sm leading-relaxed">
              <h3 class="text-xl md:text-2xl font-semibold mb-1">{{ $e.degree | markdownify }}</h3>
              {{ with $e.institution }}
              <span class="block text-sm text-muted mb-2">{{ . | markdownify }}</span>
              {{ end }}
              {{ with $e.content }}
              <p class="mt-2 text-base text-muted">{{ . | markdownify }}</p>
              {{ end }}
            </div>
          </div>
        </li>
        {{ end }}
      </ul>
    </div>
  </div>
</section>
{{ end }}
